<div class="company">

    <div class="container-fluid company-header">
        <div class="row m-0 header-pd">
            <div class="col-sm-6 col-4">
                <a routerLink="/company" routerLinkActive="active"><img src="assets/images/newLogos/AKUM_tp.png" class="img-fluid logo" /></a>
            </div>
            <div class="col-sm-6 col-8 add-logout-btn">
                <!-- <button routerLink="/priceplanetwo" routerLinkActive="active" class="btn add-company">
                    <span *ngIf="activeuser.subscription_end_date >= activeuser.serverdate">Upgrade Plan ({{getDate(activeuser.subscription_end_date)}})</span>
                    <span *ngIf="activeuser.subscription_end_date <= activeuser.serverdate">Buy Plan</span>
                </button> -->
                <!-- <button  [disabled]="activeuser.subscription_end_date <= activeuser.serverdate"  class="btn add-company">ADD COMPANY</button> -->
                <!-- <button (click)="logout()" class="btn add-company">LOGOUT</button> -->
                <!-- <h4 [routerLink]="['/plan']" routerLinkActive="active" >CLICK PLAN</h4> -->

                <div class="dropdown" ngbDropdown>
                    <button class="btn toggle-btn btn-pd" type="button" ngbDropdownToggle>
                        <i class="fa fa-user-circle user-icon" aria-hidden="true"></i>
                    </button>
                    <div class="dropdown-menu user-dtls" ngbDropdownMenu>
                        <div class="details-row">
                            <p>
                                <b>User Name :</b><br />
                                {{activeuser['name']}}
                            </p>
                        </div>
                        <div class="details-row">
                            <p>
                                <b>Mobile No :</b><br />
                                {{activeuser['phone']}}
                            </p>
                        </div>
                        <div class="details-row">
                            <p>
                                <b>Email Id :</b><br />
                                {{activeuser['email']}}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="companyform">
        <div class="container-fluid">
            <nav class="sidebar-new">

                <ul class="list-unstyled components">
                    <div class="side-menu-hd">Menu</div>
                    <div class="side-menu-fx">

                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.3333 7.09999V3.31666C18.3333 2.14166 17.8 1.66666 16.475 1.66666H13.1083C11.7833 1.66666 11.25 2.14166 11.25 3.31666V7.09166C11.25 8.27499 11.7833 8.74166 13.1083 8.74166H16.475C17.8 8.74999 18.3333 8.27499 18.3333 7.09999Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M18.3333 16.475V13.1083C18.3333 11.7833 17.8 11.25 16.475 11.25H13.1083C11.7833 11.25 11.25 11.7833 11.25 13.1083V16.475C11.25 17.8 11.7833 18.3333 13.1083 18.3333H16.475C17.8 18.3333 18.3333 17.8 18.3333 16.475Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8.75002 7.09999V3.31666C8.75002 2.14166 8.21669 1.66666 6.89169 1.66666H3.52502C2.20002 1.66666 1.66669 2.14166 1.66669 3.31666V7.09166C1.66669 8.27499 2.20002 8.74166 3.52502 8.74166H6.89169C8.21669 8.74999 8.75002 8.27499 8.75002 7.09999Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8.75002 16.475V13.1083C8.75002 11.7833 8.21669 11.25 6.89169 11.25H3.52502C2.20002 11.25 1.66669 11.7833 1.66669 13.1083V16.475C1.66669 17.8 2.20002 18.3333 3.52502 18.3333H6.89169C8.21669 18.3333 8.75002 17.8 8.75002 16.475Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <li>
                            <a  class="nav-link" routerLink="/admin/dashboard" routerLinkActive="active">DashBoard</a>
                        </li>

                    </div>
                    <div class="side-menu-fx">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1.66669 18.3333H18.3334" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14.1667 1.66667H5.83333C3.33333 1.66667 2.5 3.15834 2.5 5.00001V18.3333H17.5V5.00001C17.5 3.15834 16.6667 1.66667 14.1667 1.66667Z" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M5.83331 13.75H8.33331" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M11.6667 13.75H14.1667" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M5.83331 10H8.33331" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M11.6667 10H14.1667" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M5.83331 6.25H8.33331" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M11.6667 6.25H14.1667" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>

                        <li>
                            <!-- <a  class="nav-link" routerLink="/company" routerLinkActive="active">Create Company</a> -->
                            <a  class="nav-link" (click)="openAddModal(template)" >Create Company</a>
                        </li>

                    </div>
                    <!-- <div class="side-menu-fx">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.99998 10C12.3012 10 14.1666 8.13452 14.1666 5.83334C14.1666 3.53215 12.3012 1.66667 9.99998 1.66667C7.69879 1.66667 5.83331 3.53215 5.83331 5.83334C5.83331 8.13452 7.69879 10 9.99998 10Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2.84167 18.3333C2.84167 15.1083 6.05001 12.5 10 12.5C10.8 12.5 11.575 12.6083 12.3 12.8083" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M18.3334 15C18.3334 15.2667 18.3 15.525 18.2334 15.775C18.1584 16.1083 18.025 16.4333 17.85 16.7167C17.275 17.6833 16.2167 18.3333 15 18.3333C14.1417 18.3333 13.3667 18.0083 12.7834 17.475C12.5334 17.2583 12.3167 17 12.15 16.7167C11.8417 16.2167 11.6667 15.625 11.6667 15C11.6667 14.1 12.025 13.275 12.6084 12.675C13.2167 12.05 14.0667 11.6667 15 11.6667C15.9834 11.6667 16.875 12.0917 17.475 12.775C18.0084 13.3667 18.3334 14.15 18.3334 15Z" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M16.2417 14.9833H13.7584" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 13.7667V16.2583" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>


                        <li>
                            <a  class="nav-link" routerLink="/admin/dashboard" routerLinkActive="active">Create User</a>
                        </li>

                    </div> -->
                    <div class="side-menu-fx">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.99998 10C12.3012 10 14.1666 8.13452 14.1666 5.83333C14.1666 3.53214 12.3012 1.66666 9.99998 1.66666C7.69879 1.66666 5.83331 3.53214 5.83331 5.83333C5.83331 8.13452 7.69879 10 9.99998 10Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M16.0083 13.1167L13.0583 16.0667C12.9416 16.1834 12.8333 16.4 12.8083 16.5584L12.6499 17.6833C12.5916 18.0917 12.875 18.375 13.2833 18.3167L14.4083 18.1583C14.5666 18.1333 14.7916 18.025 14.9 17.9084L17.8499 14.9584C18.3583 14.45 18.5999 13.8583 17.8499 13.1083C17.1083 12.3667 16.5166 12.6083 16.0083 13.1167Z" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15.5833 13.5417C15.8333 14.4417 16.5333 15.1416 17.4333 15.3916" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2.84167 18.3333C2.84167 15.1083 6.05003 12.5 10 12.5C10.8667 12.5 11.7 12.625 12.475 12.8583" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>



                        <li>
                            <a  class="nav-link" routerLink="/admin/dashboard" routerLinkActive="active">Modify User</a>
                        </li>

                    </div>
                    <div class="side-menu-fx">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.99998 10C12.3012 10 14.1666 8.13452 14.1666 5.83333C14.1666 3.53215 12.3012 1.66667 9.99998 1.66667C7.69879 1.66667 5.83331 3.53215 5.83331 5.83333C5.83331 8.13452 7.69879 10 9.99998 10Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17.1583 18.3333C17.1583 15.1083 13.95 12.5 10 12.5C6.05001 12.5 2.84167 15.1083 2.84167 18.3333" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>




                        <li>
                            <a  class="nav-link" routerLink="/admin/dashboard" routerLinkActive="active">Update Profile</a>
                        </li>

                    </div>
                    <div class="side-menu-fx">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18.3333 10C18.3333 14.6 14.6 18.3333 10 18.3333C5.4 18.3333 2.59167 13.7 2.59167 13.7M2.59167 13.7H6.35833M2.59167 13.7V17.8667M1.66667 10C1.66667 5.4 5.36667 1.66667 10 1.66667C15.5583 1.66667 18.3333 6.3 18.3333 6.3M18.3333 6.3V2.13333M18.3333 6.3H14.6333" stroke="#565562" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>







                        <li>
                            <a  class="nav-link" routerLink="/change_email_phone" routerLinkActive="active">Update Email & Mobile Number</a>
                        </li>

                    </div>
                    <div class="side-menu-fx">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5 8.33333V6.66666C5 3.90833 5.83333 1.66666 10 1.66666C14.1667 1.66666 15 3.90833 15 6.66666V8.33333" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14.1667 18.3333H5.83335C2.50002 18.3333 1.66669 17.5 1.66669 14.1667V12.5C1.66669 9.16667 2.50002 8.33334 5.83335 8.33334H14.1667C17.5 8.33334 18.3334 9.16667 18.3334 12.5V14.1667C18.3334 17.5 17.5 18.3333 14.1667 18.3333Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M13.3304 13.3333H13.3378" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9.99626 13.3333H10.0037" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6.66209 13.3333H6.66957" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>





                        <li>
                            <a  class="nav-link" routerLink="/admin/dashboard" routerLinkActive="active">Update Password</a>
                        </li>

                    </div>
                    <div class="side-menu-fx">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.22656 11.9415C7.22656 13.0165 8.05156 13.8832 9.07656 13.8832H11.1682C12.0599 13.8832 12.7849 13.1249 12.7849 12.1915C12.7849 11.1749 12.3432 10.8165 11.6849 10.5832L8.32656 9.41653C7.66823 9.1832 7.22656 8.82486 7.22656 7.8082C7.22656 6.87486 7.95156 6.11653 8.84323 6.11653H10.9349C11.9599 6.11653 12.7849 6.9832 12.7849 8.0582" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 5V15" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12.5 18.3333H7.50002C3.33335 18.3333 1.66669 16.6667 1.66669 12.5V7.5C1.66669 3.33334 3.33335 1.66667 7.50002 1.66667H12.5C16.6667 1.66667 18.3334 3.33334 18.3334 7.5V12.5C18.3334 16.6667 16.6667 18.3333 12.5 18.3333Z" stroke="#565562" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>






                        <li>
                            <a  class="nav-link" routerLink="/admin/dashboard" routerLinkActive="active">Update Subscription</a>
                        </li>

                    </div>
                    <div class="side-menu-fx">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14.5333 12.1833L16.6667 10.05L14.5333 7.91667" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8.13336 10.05H16.6084" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9.80003 16.6667C6.1167 16.6667 3.13336 14.1667 3.13336 9.99999C3.13336 5.83333 6.1167 3.33333 9.80003 3.33333" stroke="#565562" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>






                        <li>
                            <!-- <a  class="nav-link" routerLink="/admin/dashboard" routerLinkActive="active">Logout</a> -->
                            <a  class="nav-link" (click) = "logout()" routerLinkActive="active">Logout</a>
                        </li>

                    </div>
                </ul>
            </nav>
            <div class="main_section">
                <div class="row  m-0">
                    <div class="col-md-12 col-lg-6 col-sm-12" *ngFor="let company of companyList; let i = index">
                        <div class="card card-body" >
                            <form>
                                <div class="row m-0 mb-10">
                                    <div class="col-sm-3 col-3 pl-0" *ngIf="company.company_logo" (click)="gotoDashBoard(company)">
                                        <div class="img_logo">
                                            <img [src]="company.company_logo? imgbaseurl+company.company_logo : ''" class="img-fluid img-fix" />
                                        </div>
                                    </div>
                                    <div class="col-sm-7 col-6 p-0 heading" (click)="gotoDashBoard(company)">
                                        <h4>{{company.company_name}}</h4>
                                        
                                       
                                    </div>
                                    <div class="col-sm-3 col-3 pl-0" *ngIf="!company.company_logo" (click)="gotoDashBoard(company)"></div>
                                    <div class="col-sm-2 col-3 heading">
                                        <button ngbDropdownItem class="btn drop-option" (click)="gotoDashBoard(company)"><i class="fa fa-eye" aria-hidden="true"></i></button>
                                        <div class="dropdown" ngbDropdown>
                                            <button class="btn toggle-btn" type="button" ngbDropdownToggle>
                                                <i class="fa fa-ellipsis-h btn-dots" aria-hidden="true"></i>
                                            </button>
                                            <div class="dropdown-menu" ngbDropdownMenu>
                                                <button ngbDropdownItem class="btn drop-option" [disabled]="activeuser.subscription_end_date <= activeuser.serverdate" (click)="openEditModal(edittemplate, company)" rounded="true" data-toggle="modal" data-target="#updaterecord">
                                                    <i class="fa fa-pencil-square-o icon-one" aria-hidden="true"></i> Edit Company
                                                </button>
                                                <button ngbDropdownItem class="btn drop-option" [disabled]="activeuser.subscription_end_date <= activeuser.serverdate" (click)="deletecompanyModal(deletetemplate, company)"><i class="fa fa-trash icon-two" aria-hidden="true"></i>Delete Company</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div>{{company.role}}</div>
                                    <!-- <div *ngIf="subUsercheck==false">
                                        <h4>{{role}}</h4>
                                    </div>
                                    <div *ngIf="subUsercheck==true">
                                        <h4>{{role}}</h4>
                                    </div> -->
                                 
                                </div>
                                <div class="display-body" (click)="gotoDashBoard(company)">
                                    <ul>
                                        <li>
                                            <span>
                                                <h5>Book Start Date</h5>
                                            </span>
                                            <span>{{ company.bookstart_date === 'null' ? '' :getDate(company.bookstart_date) }}</span>
                                        </li>
                                        <li>
                                            <span>
                                                <h5>Last Entry Date</h5>
                                            </span>
                                            <span>{{ company.entry === null ? '' : getDate(company.entry.creation_date) }}</span>
                                        </li>
                                        <li>
                                            <span>
                                                <h5>GST Number</h5>
                                            </span>
                                            <span>{{ company.gst_number === 'null' ? '' : company.gst_number}}</span>
                                        </li>
                                        <li>
                                            <span>
                                                <h5>Address</h5>
                                            </span>
                                            <span>{{company.city.name}},{{company.city.state.name}},{{company.pin_code}}</span>
                                        </li>
                                    </ul>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- =========================== ADD COMPANY MODAL ============================== -->
<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title">Add Company</h4>
        <button type="button" class="close" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="company-form">
            <form [formGroup]="companyform" #CompanyForm="ngForm">
                <div class="row">
                    <div class="col-12 col-sm-4 composition_dealer">
                        <div class="form-group">
                            <input type="checkbox" class="checkmark" formControlName="composition_dealer" data-md-icheck (change)="compositiondealer($event)" />
                            Composition Dealer
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="Company Name">Company Name</label>
                            <input class="form-control" type="text" formControlName="company_name" />
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.company_name">
                                    <div class="error-message" *ngIf="companyform.get('company_name').hasError(validation.type) && (companyform.get('company_name').dirty || companyform.get('company_name').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="stateid">State</label>
                            <ng-select bindLabel="name" placeholder="Select State" formControlName="state_id" appendTo="body" (change)="getCityList($event)" [searchable]="true">
                                <ng-option *ngFor="let state of statelist; let i = index" [value]="state.id"> {{state.name}}</ng-option>
                            </ng-select>
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.state_id">
                                    <div class="error-message" *ngIf="companyform.get('state_id').hasError(validation.type) && (companyform.get('state_id').dirty || companyform.get('state_id').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="cityid">City</label>
                            <ng-select bindLabel="name" placeholder="Select City" formControlName="city_id" appendTo="body" [searchable]="true">
                                <ng-option *ngFor="let city of citylist; let i = index" [value]="city.id">{{city.name}} </ng-option>
                            </ng-select>
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.city_id">
                                    <div class="error-message" *ngIf="companyform.get('city_id').hasError(validation.type) && (companyform.get('city_id').dirty || companyform.get('city_id').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="Street">Street</label>
                            <input class="form-control" type="text" formControlName="street" />
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="area">Area</label>
                            <input class="form-control" type="text" formControlName="area" />
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="companypan">Company Pan</label>
                            <input class="form-control" type="text" maxlength="10" minlength="10" formControlName="company_pan_number"  [ngModel]="company_pan_number" (ngModelChange)="company_pan_number = $event.toUpperCase()"/>
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.company_pan_number">
                                    <div class="error-message" *ngIf="companyform.get('company_pan_number').hasError(validation.type) && (companyform.get('company_pan_number').dirty || companyform.get('company_pan_number').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="pincode">Pin code</label>
                            <input class="form-control" type="text" maxlength="6" (keypress)="numberOnly($event)" formControlName="pin_code" />
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="area">GST Number </label>
                            <div class="gst_numberset">{{gstvalidation}}</div>
                            <input class="form-control gst_input" type="text" maxlength="15" formControlName="gst_number" [ngModel]="gst_number" (ngModelChange)="gst_number = $event.toUpperCase()"/>
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.gst_number">
                                    <div class="error-message" *ngIf="companyform.get('gst_number').hasError(validation.type) && (companyform.get('gst_number').dirty || companyform.get('gst_number').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="number">Phone Number</label>
                            <input class="form-control" (keypress)="numberOnly($event)" minlength="10" maxlength="10" type="text" id="number"  formControlName="phone_number"/>
                            <div class="validation-errors">
                             <ng-container *ngFor="let validation of validation_messages.phone_number">
                                 <div class="error-message" *ngIf="companyform.get('phone_number').hasError(validation.type) && (companyform.get('phone_number').dirty || companyform.get('phone_number').touched)">
                                     {{ validation.message }}
                                 </div>
                             </ng-container>
                         </div>
                         </div>
                     </div>
                     <div class="col-12 col-sm-4">
                        <div class="form-group">
                           <label for="email">Email</label>
                           <input class="form-control" type="email" id="email"  formControlName="email"/>
                           <div class="validation-errors">
                            <ng-container *ngFor="let validation of validation_messages.email">
                                <div class="error-message" *ngIf="companyform.get('email').hasError(validation.type) && (companyform.get('email').dirty || companyform.get('email').touched)">
                                    {{ validation.message }}
                                </div>
                            </ng-container>
                        </div>
                        </div>
                     </div>
                     <div class="col-12 col-sm-4">
                        <div class="form-group">
                           <label for="cinnumber">CIN Number</label>
                           <input class="form-control" type="text" id="cinnumber"  formControlName="cin_number"/>
                        </div>
                     </div>
                     <div class="col-12 col-sm-4">
                        <div class="form-group">
                           <label for="website">Website</label>
                           <input class="form-control" type="text" id="website"  formControlName="website"/>
                        </div>
                     </div>
                     <div class="col-12 col-sm-4">
                        <div class="form-group">
                           <label for="jurisdiction">Jurisdiction</label>
                           <input class="form-control" type="text" id="jurisdiction"  formControlName="jurisdiction"/>
                        </div>
                     </div>
                    <div class="col-12 col-sm-4">
                        <!-- <label for="financial_year">Book Start From</label> -->
                        <div class="input-group mt-10">
                            <mat-form-field class="width-set">
                                <input matInput [matDatepicker]="picker" placeholder="Book Start From" [max]="currentDate" formControlName="financial_year" />
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.financial_year">
                                    <div class="error-message" *ngIf="companyform.get('financial_year').hasError(validation.type) && (companyform.get('financial_year').dirty || companyform.get('financial_year').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Company Logo</label>
                            <div class="logo-img">
                                <label class="input-group">
                                    <input type="file" name="image" ic="file" (change)="onChangeSetImagePath($event)" style="width: 100%; height: 5px; z-index: 10; opacity: 0;" />
                                    <input type="text" style="z-index: 0;" readonly="readonly" class="form-control upload-img" placeholder="Image" aria-label="Recipient's username" aria-describedby="basic-addon2" />
                                    <div class="input-group-append">
                                        <span class="input-group-text chooseimage-btn" id="basic-addon2">CHOOSE LOGO</span>
                                    </div>
                                </label>
                                <div class="upload-img-box" *ngIf="defaultImage">
                                    <img [src]="defaultImage" style="width: 100%; height: 100%;" class="img-fluid" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-9">
                        <div class="form-group">
                            <label for="teams_condition">Teams & Conditions</label>
                            <textarea class="form-control rounded-0" formControlName="terms" placeholder="Teams & Conditions For Invoice" rows="5"></textarea>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="validation-errors">Note : You Can't change your state after successfully Create a company.</div>
                   </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <!-- !companyform.valid  -->
        <button class="btn footer-btn" [disabled]="clicked || !companyform.valid" (click)="addCompany()">ADD COMPANY</button>
        <button class="btn footer-btn" (click)="modalRef.hide()">CANCEL</button>
    </div>
</ng-template>
<!-- =========================== EDIT COMPANY DETAIL MODAL ============================== -->
<ng-template #edittemplate>
    <div class="modal-header">
        <h4 class="modal-title">Edit Company</h4>
        <button type="button" class="close" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="company-form">
            <form [formGroup]="companyformedit" #CompanyFormedit="ngForm" >
                <div class="row">
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label for="Company Name">Company Name</label>
                            <input class="form-control" type="text" formControlName="company_name" />
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.company_name">
                                    <div class="error-message" *ngIf="companyformedit.get('company_name').hasError(validation.type) && (companyformedit.get('company_name').dirty || companyformedit.get('company_name').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-6">
                        <div class="form-group">
                            <label for="stateid">State</label>
                            <ng-select bindLabel="name" placeholder="Select State" formControlName="state_id" (change)="getCityList($event)"  disabled>
                                <ng-option disabled *ngFor="let state of statelist; let i = index" [value]="state.id"> {{state.name}}</ng-option>
                            </ng-select>
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.state_id">
                                    <div class="error-message" *ngIf="companyformedit.get('state_id').hasError(validation.type) && (companyformedit.get('state_id').dirty || companyformedit.get('state_id').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="cityid">City</label>
                            <ng-select bindLabel="name" placeholder="Select City" formControlName="city_id" appendTo="body" [searchable]="true">
                                <ng-option *ngFor="let city of citylist; let i = index" [value]="city.id">{{city.name}} </ng-option>
                            </ng-select>
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.city_id">
                                    <div class="error-message" *ngIf="companyformedit.get('city_id').hasError(validation.type) && (companyformedit.get('city_id').dirty || companyformedit.get('city_id').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="Street">Street</label>
                            <input class="form-control" type="text" formControlName="street" />
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="area">Area</label>
                            <input class="form-control" type="text" formControlName="area" />
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="companypan">Company Pan</label>
                            <input class="form-control" type="text" maxlength="10" minlength="10" formControlName="company_pan_number"  [ngModel]="company_pan_number" (ngModelChange)="company_pan_number = $event.toUpperCase()" />
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.company_pan_number">
                                    <div class="error-message" *ngIf="companyformedit.get('company_pan_number').hasError(validation.type) && (companyformedit.get('company_pan_number').dirty || companyformedit.get('company_pan_number').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="pincode">Pin code</label>
                            <input class="form-control" type="text" maxlength="6" (keypress)="numberOnly($event)" formControlName="pin_code" />
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label for="area">GST Number</label>
                            <div class="gst_numberset">{{gstvalidation}}</div>
                            <!--  [ngClass]="gst_number == '' ? 'gst_input' : 'gst_input_set'" -->
                            <input class="form-control gst_input" type="text" maxlength="15" formControlName="gst_number" />
                            <div class="validation-errors">
                                <ng-container *ngFor="let validation of validation_messages.gst_number">
                                    <div class="error-message" *ngIf="companyformedit.get('gst_number').hasError(validation.type) && (companyformedit.get('gst_number').dirty || companyformedit.get('gst_number').touched)">
                                        {{ validation.message }}
                                    </div>
                                </ng-container>
                            </div>
                            <!-- <div class="validation-errors" *ngIf="!gstvalidation">Please Select a State Again..</div> -->
                        </div>
                    </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                           <label for="number">Phone Number</label>
                           <input class="form-control" (keypress)="numberOnly($event)" minlength="10" maxlength="10" type="text" id="number"  formControlName="phone_number"/>
                           <div class="validation-errors">
                            <ng-container *ngFor="let validation of validation_messages.phone_number">
                                <div class="error-message" *ngIf="companyformedit.get('phone_number').hasError(validation.type) && (companyformedit.get('phone_number').dirty || companyformedit.get('phone_number').touched)">
                                    {{ validation.message }}
                                </div>
                            </ng-container>
                        </div>
                        </div>
                     </div>
                     <div class="col-12 col-sm-4">
                        <div class="form-group">
                           <label for="email">Email</label>
                           <input class="form-control" type="email" id="email"  formControlName="email"/>
                           <div class="validation-errors">
                            <ng-container *ngFor="let validation of validation_messages.email">
                                <div class="error-message" *ngIf="companyformedit.get('email').hasError(validation.type) && (companyformedit.get('email').dirty || companyformedit.get('email').touched)">
                                    {{ validation.message }}
                                </div>
                            </ng-container>
                        </div>
                        </div>
                     </div>
                     <div class="col-12 col-sm-4">
                        <div class="form-group">
                           <label for="cinnumber">CIN Number</label>
                           <input class="form-control" type="text" id="cinnumber"  formControlName="cin_number"/>
                        </div>
                     </div>
                     <div class="col-12 col-sm-6">
                        <div class="form-group">
                           <label for="website">Website</label>
                           <input class="form-control" type="text" id="website"  formControlName="website"/>
                        </div>
                     </div>
                     <div class="col-12 col-sm-6">
                        <div class="form-group">
                           <label for="jurisdiction">Jurisdiction</label>
                           <input class="form-control" type="text" id="jurisdiction"  formControlName="jurisdiction"/>
                        </div>
                     </div>
                    <div class="col-12 col-sm-4">
                        <div class="form-group">
                            <label>Company Logo</label>
                            <div class="logo-img">
                                <label class="input-group">
                                    <input type="file" name="image" ic="file" (change)="onChangeSetImagePath($event)" style="width: 100%; height: 5px; z-index: 10; opacity: 0;" />
                                    <input type="text" style="z-index: 0;" readonly="readonly" class="form-control upload-img" placeholder="Image" aria-label="Recipient's username" aria-describedby="basic-addon2" />
                                    <div class="input-group-append">
                                        <span class="input-group-text chooseimage-btn" id="basic-addon2">CHOOSE LOGO</span>
                                    </div>
                                </label>
                                <div class="upload-img-box" *ngIf="defaultImage">
                                    <img [src]="defaultImage" style="width: 100%; height: 100%;" class="img-fluid" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-8">
                        <div class="form-group">
                            <label for="teams_condition">Teams & Conditions</label>
                            <textarea class="form-control rounded-0" formControlName="terms" placeholder="Teams & Conditions For Invoice" rows="5"></textarea>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn footer-btn" [disabled]="!companyformedit.valid" (click)="editCompany()">SAVE DETAIL</button>
        <button class="btn footer-btn" (click)="modalRef.hide()">CANCEL</button>
    </div>
</ng-template>
<!-- =========================== DELETE COMPANY DETAIL MODAL ============================== -->
<ng-template #deletetemplate>
    <div class="modal-header">
        <h4 class="modal-title">CONFIRMATION</h4>
        <button type="button" class="close" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body delete-modal">
        <h1>Are You Sure want to Delete This Company ?</h1>
    </div>
    <div class="modal-footer">
        <button class="btn footer-btn" (click)="deletecompany(deleteData)">YES</button>
        <button class="btn footer-btn" (click)="modalRef.hide()">NO</button>
    </div>
</ng-template>

<!-- =========================== SUBSCRIPTION MODAL ============================== -->
<ng-template #subscriptionmodal let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title">SUBSCRIPTION PLAN</h4>
        <button type="button" class="close" aria-label="Close" routerLink="/company" routerLinkActive="active" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body delete-modal">
        <h1>Your Plan has been expired, You need to buy now ...</h1>
    </div>
    <div class="modal-footer">
        <button class="btn footer-btn" (click)="d('Cross click')" routerLink="/company">CANCEL</button>
        <button class="btn footer-btn" (click)="d('Cross click')" routerLink="/priceplanetwo">BUY PLAN</button>
    </div>
</ng-template>
